<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<title>Retrieving and Looking-up context information</title>
</head>
<body>
<h1>Retrieving and Looking-up context information</h1>
<pre>
// Retrieve methods
// if the identifier of a context model object is known
// the context object is retrieved with the following method
// Retrieve a context entity
CtxEntity retrievedCtxEntity = (CtxEntity)this.internalCtxBroker.retrieve(this.ctxEntityIdentifier).get();

// Retrieve a context attribute with a string value
CtxModelObject ctxAttributeRetrievedStringFuture = this.internalCtxBroker.retrieve(this.ctxAttributeStringIdentifier).get();
CtxAttribute retrievedCtxAttribute = (CtxAttribute) this.internalCtxBroker.retrieve(this.ctxAttributeStringIdentifier).get();

// Retrieve a ctxAttribute with binary value
CtxAttribute ctxAttributeRetrievedBinary = (CtxAttribute) this.internalCtxBroker.retrieve(this.ctxAttributeBinaryIdentifier).get();

//deserialise object
MockBlobClass retrievedBlob = (MockBlobClass) SerialisationHelper.deserialise(ctxAttributeRetrievedBinary.getBinaryValue(), this.getClass().getClassLoader());

// Lookup methods
// Context Entity and Attribute identifiers is possible to be retrieved based // on criteria via lookup methods.
//Lookup for CtxEntities of type "FooBar"
List<CtxIdentifier> ids =internalCtxBroker.lookup(CtxModelType.ENTITY, "FooBar").get();

//Lookup for CtxEntities of type "FooBar"
List<CtxIdentifier> ids = internalCtxBroker.lookup(CtxModelType.ATTRIBUTE, "attrFooBar").get();
</pre>

</body>
</html>